# Changelog

## 2025-06-26

### Changed

- Migrated entire test suite from `unittest` to `pytest` framework for better maintainability and modern testing practices.
- Introduced abstract LLM provider pattern with `AnthropicProvider` implementation for future extensibility.
- Extracted planning functions into dedicated `src/planning.py` module for better code organization.
- Added centralized configuration management in `src/config.py` for improved maintainability.
- Enhanced test infrastructure with `conftest.py` shared fixtures and `pytest-asyncio` support.
- Improved file system testing using `tmp_path` fixture for better test isolation.

### Added

- New `src/llm_providers.py` module with abstract `LLMProvider` base class.
- New `src/planning.py` module containing planning-related parsing functions.
- New `src/config.py` module for centralized configuration constants.
- New `tests/conftest.py` with shared test fixtures.
- New `tests/test_planning.py` for testing planning functionality.
- Added `pytest-asyncio` dependency for improved async test handling.
- Added `.local.*` to `.gitignore` for AI-generated temporary files.

## 2025-06-25

### Changed

- Refactored the entire test suite to use `pytest` best practices, including:
  - Replacing `unittest` with `pytest` functions and assertions.
  - Adding `pytest-asyncio` for improved asynchronous test handling.
  - Creating a `conftest.py` file for shared test fixtures.
  - Using the `tmp_path` fixture for file system operations in tests.

## 2025-06-24

### Added

- Initial project setup and scaffolding.
- Created `PLANNING.md`, `README.md`, `CHANGELOG.md`, and `.gitignore`.
- Implemented the core CLI structure with modular commands: `plan`,
  `execute`, and `update`.
- Added `src/cli.py` for argument parsing and `src/commands/` for command logic.
- Implemented robust file utilities in `src/file_utils.py` for parsing and
  updating markdown files.
- Implemented asynchronous Claude API integration in `src/claude_api.py`
  with error handling and logging.
- Added comprehensive unit tests for all modules in `tests/`.
- Established best-practice documentation and project structure.

### Updated

- Refactored codebase for modularity and maintainability (moved CLI and
  commands to separate modules).
- Improved error handling, logging, and testability throughout the codebase.
- Updated `PLANNING.md` and `README.md` to reflect current project state and usage.

### Fixed

- Addressed edge cases in markdown parsing and file I/O.
- Improved reliability of batch result application and prompt extraction.

### Source of Truth

- The holy grail instructions for this project, generated by Claude 4 Opus,
  can be found in
  [compass_artifact_wf-5963d4c3-82fe-45f8-af13-46f3c950ba3a_text_markdown.md](compass_artifact_wf-5963d4c3-82fe-45f8-af13-46f3c950ba3a_text_markdown.md).
